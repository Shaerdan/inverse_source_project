# Conda environment for Inverse Source Localization
# 
# Create environment:
#     conda env create -f environment.yml
#
# Activate:
#     conda activate inverse_source
#
# Update existing environment:
#     conda env update -f environment.yml --prune
#
# For JASMIN/HPC systems, you may need to load modules first:
#     module load jaspy  # or equivalent

name: inverse_source
channels:
  - conda-forge
  - defaults

dependencies:
  # Python version
  - python>=3.10,<3.13
  
  # ===================
  # CORE (Required)
  # ===================
  - numpy>=1.24
  - scipy>=1.11
  - matplotlib>=3.7
  
  # ===================
  # OPTIMIZATION
  # ===================
  # IPOPT for nonlinear optimization (matches MATLAB fmincon)
  - cyipopt>=1.3
  
  # ===================
  # FEM SOLVER (Optional)
  # ===================
  # Uncomment if using FEM solvers
  # - fenics-dolfinx>=0.8.0
  # - fenics-basix>=0.8.0
  # - fenics-ufl>=2024.1
  # - fenics-ffcx>=0.8.0
  # - petsc4py
  # - slepc4py
  
  # ===================
  # MESHING
  # ===================
  - gmsh>=4.12
  - meshio>=5.3
  - h5py>=3.9
  
  # ===================
  # MPI (for parallel)
  # ===================
  - mpich
  - mpi4py
  
  # ===================
  # VISUALIZATION
  # ===================
  - pyvista>=0.42
  - vtk
  
  # ===================
  # UTILITIES
  # ===================
  - tqdm
  - pyyaml
  - scikit-learn>=1.3
  
  # ===================
  # DEVELOPMENT
  # ===================
  - pytest>=7.0
  - black
  - flake8
  
  # ===================
  # JUPYTER (Optional)
  # ===================
  # Uncomment for notebook support
  # - jupyterlab>=4.0
  # - ipykernel
  # - ipywidgets
  
  # Pip dependencies
  - pip
  - pip:
    - cvxpy>=1.4
    - ecos>=2.0
